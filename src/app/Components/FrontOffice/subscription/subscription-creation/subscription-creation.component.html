<div class="subscription-offers">
  <h2 class="section-title">Available Subscription Plans</h2>

  <div class="subscription-cards">
    <div class="subscription-card" *ngFor="let offer of subscriptionOffers">
      <div class="card-header">
        <h3>{{ offer.subscriptionType }}</h3>

        <div class="pricing-container">
          <!-- Show the original price with a line-through if there is a discount -->
          <p *ngIf="userActivityLevel !== 'INACTIF' && offer.discountedPrice < offer.subscriptionPrice" class="original-price">
            <span>{{ formatPrice(offer.subscriptionPrice) }}</span>
          </p>

          <!-- Show the discounted price if the user is active -->
          <p *ngIf="userActivityLevel !== 'INACTIF' && offer.discountedPrice < offer.subscriptionPrice" class="price">
            {{ formatPrice(offer.discountedPrice) }}
          </p>

          <!-- Show the discount percentage -->
          <p *ngIf="userActivityLevel !== 'INACTIF' && offer.discountedPrice < offer.subscriptionPrice" class="discount-percentage">
            {{ offer.discountPercentage }}% Off
          </p>

          <!-- Show the discount label if a discount is applied -->
          <p *ngIf="userActivityLevel !== 'INACTIF' && offer.discountedPrice < offer.subscriptionPrice" class="discount-label">
            You save: {{ formatPrice(offer.subscriptionPrice - offer.discountedPrice) }}
          </p>

          <!-- Show the original price if the user is inactive or no discount is applied -->
          <p *ngIf="userActivityLevel === 'INACTIF' || offer.discountedPrice >= offer.subscriptionPrice" class="price">
            {{ formatPrice(offer.subscriptionPrice) }}
          </p>
        </div>
      </div>

      <div class="card-body">
        <p>{{ offer.subscriptionDescription }}</p>
        <p class="duration"><strong>Duration:</strong> {{ offer.durationInMonths }} months</p>
      </div>

      <div class="card-footer">
        <button class="subscribe-btn" (click)="subscribe(offer)">Subscribe</button>
      </div>
    </div>
  </div>
</div>
