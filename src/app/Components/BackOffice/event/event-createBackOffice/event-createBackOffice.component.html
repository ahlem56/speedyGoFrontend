<div class="create-container">
  <div class="create-card">
    <h2 class="title">Create a New Event</h2>

    <form [formGroup]="eventForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- Event Date -->
      <div class="form-group">
        <label for="date">Event Date</label>
        <input
          id="date"
          type="datetime-local"
          formControlName="eventDate"
          class="form-control"
        />
        <small *ngIf="submitted && f['eventDate'].errors" class="error">
          Event date is required.
        </small>
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          rows="4"
          formControlName="eventDescription"
          class="form-control"
          maxlength="500"
        ></textarea>
        <small *ngIf="submitted && f['eventDescription'].errors?.['required']" class="error">
          Description is required.
        </small>
        <small *ngIf="submitted && f['eventDescription'].errors?.['maxlength']" class="error">
          Maximum 500 characters.
        </small>
      </div>

      <!-- Location -->
      <div class="form-group">
        <label for="location">Location</label>
        <input
          id="location"
          type="text"
          formControlName="eventLocation"
          class="form-control"
          maxlength="100"
        />
        <small *ngIf="submitted && f['eventLocation'].errors?.['required']" class="error">
          Location is required.
        </small>
        <small *ngIf="submitted && f['eventLocation'].errors?.['maxlength']" class="error">
          Maximum 100 characters.
        </small>
      </div>

      <!-- Max Participants -->
      <div class="form-group">
        <label for="maxParticipants">Max Participants</label>
        <input
          id="maxParticipants"
          type="number"
          formControlName="maxParticipants"
          class="form-control"
          min="1"
        />
        <small *ngIf="submitted && f['maxParticipants'].errors?.['required']" class="error">
          This field is required.
        </small>
        <small *ngIf="submitted && f['maxParticipants'].errors?.['min']" class="error">
          Minimum value is 1.
        </small>
      </div>

      <!-- Photo -->
      <div class="form-group">
        <label for="photo">Event Photo</label>
        <input
          id="photo"
          type="file"
          accept="image/*"
          (change)="onFileChange($event)"
          class="form-control file-input"
        />
        <div *ngIf="photoPreview" class="preview-wrapper">
          <img [src]="photoPreview" alt="Photo Preview" class="preview-img" />
        </div>
      </div>

      <!-- Server error -->
      <div *ngIf="serverError" class="server-error">
        {{ serverError }}
      </div>

      <!-- Submit -->
      <div class="form-group submit-group">
        <button type="submit" [disabled]="eventForm.invalid" class="btn-submit">
          Create Event
        </button>
      </div>
    </form>
  </div>
</div>
