<div class="form-container">
  <h1>Create New Vehicle</h1>

  <form #vehicleForm="ngForm" (ngSubmit)="onSubmit(vehicleForm)">
    <div class="form-grid">
      <!-- Vehicle Type -->
      <div class="form-group">
        <label for="vehicleType">Vehicle Type *</label>
        <select id="vehicleType"
                [(ngModel)]="vehicle.vehicleType"
                name="vehicleType"
                required>
          <option value="CAR">Car</option>
          <option value="TRUCK">Truck</option>
          <option value="VAN">Van</option>
        </select>
      </div>
      <!-- Model -->
      <div class="form-group">
        <label for="model">Model *</label>
        <input type="text"
               id="model"
               [(ngModel)]="vehicle.vehicleModel"
               name="vehicleModel"
               required
               minlength="2">
      </div>

      <!-- Capacity -->
      <div class="form-group">
        <label for="capacity">Seating Capacity *</label>
        <input type="number"
               id="capacity"
               [(ngModel)]="vehicle.vehicleCapacity"
               name="vehicleCapacity"
               required
               min="1">
      </div>

      <!-- Serial Number -->
      <div class="form-group">
        <label for="serial">Serial Number *</label>
        <input type="text"
               id="serial"
               [(ngModel)]="vehicle.driver"
               name="vehicleSerialNumber"
               required>
      </div>

      <!-- Maintenance Date -->
      <div class="form-group">
        <label for="maintenance">Maintenance Date *</label>
        <input type="date"
               id="maintenance"
               [(ngModel)]="vehicle.vehiculeMaintenanceDate"
               name="vehiculeMaintenanceDate"
               [min]="minDate"
               required>
      </div>

      <!-- Insurance Status -->
      <div class="form-group insurance-group">
        <label>Insurance Status</label>
        <div class="toggle-switch">
          <input type="checkbox"
                 id="insuranceStatus"
                 [(ngModel)]="vehicle.vehiculeInsuranceStatus"
                 name="vehiculeInsuranceStatus">
          <label for="insuranceStatus" class="slider"></label>
          <span class="status-label">
            {{ vehicle.vehiculeInsuranceStatus ? 'Insured' : 'Uninsured' }}
          </span>
        </div>
      </div>

      <!-- Insurance Date (Conditional) -->
      <div class="form-group" *ngIf="vehicle.vehiculeInsuranceStatus">
        <label for="insuranceDate">Insurance Expiry Date *</label>
        <input type="date"
               id="insuranceDate"
               [(ngModel)]="vehicle.vehiculeInsuranceDate"
               name="vehiculeInsuranceDate"
               [min]="minDate"
               required>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="submit" [disabled]="vehicleForm.invalid || isLoading">
        <span *ngIf="!isLoading">Create Vehicle</span>
        <span *ngIf="isLoading">Creating...</span>
      </button>
      <button type="button" (click)="router.navigate(['/back-office/vehicles'])">
        Cancel
      </button>
    </div>

    <!-- Error Message -->
    <div class="error-message" *ngIf="errorMessage">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>
  </form>
</div>
